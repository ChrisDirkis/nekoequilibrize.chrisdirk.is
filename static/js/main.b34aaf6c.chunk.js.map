{"version":3,"sources":["App/Creature.module.scss","Images/cat.png","Images/mouse.png","App/Puzzles.tsx","App/Creature.tsx","App/Simulator.ts","App/CreatureInput.tsx","App/PuzzleResults.tsx","App/App.tsx","reportWebVitals.js","index.tsx","App/App.module.scss","App/PuzzleResults.module.scss"],"names":["module","exports","Puzzles","description","organismTemplates","steps","initialEnergyPerSpecies","seedsPerRound","leavesPerRound","grassPerRound","playerOrganismCount","playerOrganismsPassConstraints","_","defaultPlayerOrganisms","name","image","CatIcon","weapons","armour","speed","noWeaponsInput","noArmourInput","noSpeedInput","eatsSeeds","eatsLeaves","eatsGrass","MouseIcon","organisms","Creature","template","className","Styles","src","alt","simulate","puzzle","playerOrganisms","seed","a","rng","t","Math","imul","Array","length","fill","totalOrganisms","organismTemplate","index","energy","getEnergyCost","organismCount","floor","push","resources","seeds","leaves","grass","allRoundResults","step","newOrganisms","newTotal","samples","i","aIndex","sample","bIndex","children","interact","key","value","roundResults","map","some","r","resultSummary","totalCategories","roll","sum","console","error","aOrganism","aOrganismTemplate","bOrganism","bOrganismTemplate","fightWinnerTemplate","getFightWinner","reproduce","tryForage","bonusEnergy","templateEnergy","reproductionOpportunities","opportunity","cost","CreatureInput","onTemplateChanged","changeValue","max","round","newTemplate","type","onChange","e","target","valueAsNumber","checked","colors","reseed","onLevelPassed","results","useMemo","isValid","passFailClassname","ResponsiveContainer","LineChart","data","Legend","verticalAlign","height","formatter","entry","organism","style","color","margin","top","keys","Line","stroke","dataKey","dot","strokeWidth","onClick","App","props","useState","passedLevels","setPassedLevels","useEffect","JSON","parse","localStorage","getItem","selectedPuzzleIndex","setSelectedPuzzleIndex","currentOrganisms","setCurrentOrganisms","currentSeed","setCurrentSeed","onPuzzleSelected","useCallback","lastOrganisms","toString","Number","parseInt","splice","setItem","stringify","s","selectedPuzzle","fontSize","paddingLeft","p","undefined","includes","ot","PuzzleResults","PI","newPassedLevels","setLevelPassed","newot","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b34aaf6c.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"creature\":\"Creature_creature__2kXdQ\",\"creatureImage\":\"Creature_creatureImage__2CZ8Z\",\"creatureName\":\"Creature_creatureName__sMxkh\",\"creatureNumerics\":\"Creature_creatureNumerics__38Wd1\",\"creatureBooleans\":\"Creature_creatureBooleans__s3q7Z\"};","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAPUExURXRWm5b7x9i/2P+zywAAAHbq7AwAAAAFdFJOU/////8A+7YOUwAAAAlwSFlzAAAOwwAADsMBx2+oZAAAAgZJREFUWEftluturDAMhFN23/+Zz3h8iZM4bFClnv7oSAu5zHwxAUrb+5v6A/xCwHPemNjn224qj7f2tbE1yJqz0jjyV23DzA6dAJKvAYhvZqAEgKu0ceIcIJfbJePtul4dYKOh6MAmAJRLsYcuhHwA0MV2ZMIEuCzZBcArABJHLxO8KQuVYgEvL0DiQmCPCoD5KwWgNc0/BcgeKMAKuAVgFWt1BWDNVwBvDqgEgIMR1S0gBjNgfAwCUGxCBjAl+Sl+C0jSGAE0J9WA+alQFwBLAY8BbGR1gGfkPOdPAMN9UFofMYc/0VkJkJcNiMgv/ANg+z4BZYaoJWkYKRGRJ2AhjAOpbpeMmEnmPgCIGBjs+l2QPltJywAkEKU4SwnsLSvaOUsXZdJFwjFAnaOCMG/jDiAvrkZNDphL2AFIGBBw8rqmEjYA/vnUYCgI5lJtANh/5FlySJZeS3gAqEt4CNAS1KV6BID5CMAHKQCJAsIZQEwMxAFZYvVoPmoL6Afm7YNvGDOKdoC+On/jV/8EYFfrv58FSEI8OGeISUbNSG0A3Ce8EpoYABhVn2oH0FYBGO9BBaD5BjAWUAH8/5EEGEvQSVMJ8E+gZklJhA8AyRvAUnx+E+EBIALCELF7AFBP8vfl5wKqPfAlCDCWZqFp/QqQJFV7Q9NL/h6QJNk1DZ0CtvrfgPf7H03TMLjaORDeAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAPUExURXRWm9i/2P+zy/f/rgAAAIUtdIgAAAAFdFJOU/////8A+7YOUwAAAAlwSFlzAAAOwwAADsMBx2+oZAAAANVJREFUWEftkVkOwyAMBdnuf+Z6AwN2UJV+IFUeqQ2lfmNDUvuREIQACcFrgcZC8FqguRBcFIxgCG4KevKvBUmRnZWjAFM55yK4joOA0xU+jK+wgkrfnIa8CniU3WAFrdYRnwcgrMERwC8p3wZA8BhSxVgB9Jdi0x/ZDVagedOe2AxWQPlU5vwiWq+hL3WL++MlcqwCtBicBXp+inqnmEcYpxlPKSL8O1hG2Bf6/gmeAZENRgV6nbxIqSwCAJQu2AsfnS4w0L7F/PNU+DUhCAESgvuC1j5UsznrheNOwQAAAABJRU5ErkJggg==\"","import { IOrganismTemplate, IPuzzle } from \"./Simulator\";\n\nimport CatIcon from \"../Images/cat.png\"\n\nimport MouseIcon from '../Images/mouse.png';\n\nexport const Puzzles: IPuzzle[] = [\n    {\n        description: <>\n            <p>Me, a cadet, in charge of equilibrizing these worlds? I don't... I don't know, it seems like such a big responsibility.</p>\n            <p>But I have to succeed. I must!</p>\n            <br/>\n            <p>This world has nothing but plants, all around. There should be enough resources to support <em>an animal that only eats plants,</em> I reckon. Easy peasy!</p>\n        </>,\n\n        organismTemplates: [],\n        steps: 200,\n        initialEnergyPerSpecies: 200,\n\n        seedsPerRound: 200,\n        leavesPerRound: 200,\n        grassPerRound: 200,\n\n        playerOrganismCount: 1,\n        playerOrganismsPassConstraints: (_) => true,\n        defaultPlayerOrganisms: [\n            {\n                name: \"grazing cat\",\n                image: CatIcon,\n\n                weapons: 0,\n                armour: 0,\n                speed: 0,\n\n                noWeaponsInput: true,\n                noArmourInput: true,\n                noSpeedInput: true,\n\n                eatsSeeds: false,\n                eatsLeaves: false,\n                eatsGrass: false,\n            }\n        ],\n    },\n    {\n        description: <>\n            <p>Yes! I've equilibrized my first world, I'm on fire! Well, figuratively, not literally, except for in the way that everything's oxidising slowly all the time anyway. Ooh, Command's giving me a new operation.</p>\n            <p>Hang on... this world is already populated?</p>\n            <br/>\n            <p>This world has a large population of mice, and I've been instructed to introduce predator cats. What did they say in academy... that's right! <em>For an animal to eat another, its weapons must be stronger than the other animal's weapons and armour, and it must be faster.</em> Luckily for me, these mice have no weapons or armour to speak of at all.</p>\n            <p>One more thing: The higher the energy requirement, the harder it is for an animal to breed. <em>If one species is outcompeting another, try make it more expenisve without making it better (hunting is pass/fail).</em></p>\n        </>,\n\n        organismTemplates: [\n            {\n                name: \"mouse\",\n                image: MouseIcon,\n                \n                weapons: 0,\n                armour: 0,\n                speed: 1,\n\n                eatsSeeds: true,\n                eatsLeaves: false,\n                eatsGrass: false,\n            }\n        ],\n        steps: 200,\n        initialEnergyPerSpecies: 200,\n\n        seedsPerRound: 200,\n        leavesPerRound: 200,\n        grassPerRound: 200,\n\n        playerOrganismCount: 1,\n        playerOrganismsPassConstraints: (organisms: IOrganismTemplate[]) => organisms[0].weapons > 0,\n        defaultPlayerOrganisms: [\n            {\n                name: \"predator cat\",\n                image: CatIcon,\n\n                weapons: 0,\n                armour: 0,\n                speed: 0,\n\n                eatsSeeds: false,\n                eatsLeaves: false,\n                eatsGrass: false,\n            }\n        ],\n    },\n    {\n        description: <>\n            <p>Two species? You've got to be kidding me. Command must have it out for me. I can do it, though!</p>\n            <br/>\n            <p>This world has both mice and songbirds, but the songbirds aren't going to last long. They're so fast, but being fast doesn't give them any advantages when there's no predators.</p>\n        </>,\n\n        organismTemplates: [\n            {\n                name: \"mouse\",\n                image: MouseIcon,\n                \n                weapons: 0,\n                armour: 0,\n                speed: 1,\n\n                eatsSeeds: true,\n                eatsLeaves: false,\n                eatsGrass: false,\n            },\n            {\n                name: \"songbird\",\n                image: MouseIcon,\n                \n                weapons: 0,\n                armour: 0,\n                speed: 3,\n\n                eatsSeeds: true,\n                eatsLeaves: false,\n                eatsGrass: false,\n            },\n        ],\n        steps: 400,\n        initialEnergyPerSpecies: 200,\n\n        seedsPerRound: 200,\n        leavesPerRound: 200,\n        grassPerRound: 200,\n\n        playerOrganismCount: 1,\n        playerOrganismsPassConstraints: (organisms: IOrganismTemplate[]) => organisms[0].weapons > 0,\n        defaultPlayerOrganisms: [\n            {\n                name: \"predator cat\",\n                image: CatIcon,\n\n                weapons: 0,\n                armour: 0,\n                speed: 0,\n\n                eatsSeeds: false,\n                eatsLeaves: false,\n                eatsGrass: false,\n            }\n        ],\n    },\n    \n    {\n        description: <>\n            <p>Damn, I'm getting good at this! I'm proud of me right now, gotta say. What have we got in store this time?</p>\n            <p>Aww, prey cats? I hate to see the poor things eaten, but it's for the good of the world, I guess.</p>\n            <br/>\n            <p>In this world, we have mice, songbirds, and falcons. We're going to have to figure out a way to balance out this mess.</p>\n        </>,\n\n        organismTemplates: [\n            {\n                name: \"mouse\",\n                image: MouseIcon,\n                \n                weapons: 0,\n                armour: 0,\n                speed: 1,\n\n                eatsSeeds: true,\n                eatsLeaves: false,\n                eatsGrass: false,\n            },\n            {\n                name: \"songbird\",\n                image: MouseIcon,\n                \n                weapons: 0,\n                armour: 0,\n                speed: 3,\n\n                eatsSeeds: true,\n                eatsLeaves: false,\n                eatsGrass: false,\n            },\n            {\n                name: \"falcon\",\n                image: MouseIcon,\n                \n                weapons: 1,\n                armour: 0,\n                speed: 10,\n\n                eatsSeeds: false,\n                eatsLeaves: false,\n                eatsGrass: false,\n            },\n        ],\n        steps: 400,\n        initialEnergyPerSpecies: 200,\n\n        seedsPerRound: 200,\n        leavesPerRound: 200,\n        grassPerRound: 200,\n\n        playerOrganismCount: 2,\n        playerOrganismsPassConstraints: (organisms: IOrganismTemplate[]) => organisms[0].weapons > 0 && organisms[1].weapons === 0,\n        defaultPlayerOrganisms: [\n            {\n                name: \"predator cat\",\n                image: CatIcon,\n\n                weapons: 1,\n                armour: 0,\n                speed: 0,\n\n                eatsSeeds: false,\n                eatsLeaves: false,\n                eatsGrass: false,\n            }, \n            \n            {\n                name: \"prey cat\",\n                image: CatIcon,\n\n                weapons: 0,\n                armour: 0,\n                speed: 0,\n\n                eatsSeeds: false,\n                eatsLeaves: false,\n                eatsGrass: false,\n            }\n        ],\n    },\n\n]","import { FC } from \"react\";\n\nimport Styles from './Creature.module.scss';\nimport { IOrganismTemplate } from \"./Simulator\";\n\ninterface ICreatureProps {\n    template: IOrganismTemplate;\n}\n\nconst Creature: FC<ICreatureProps> = ({template}) => {\n\n\n    return <div className={Styles[\"creature\"]}>\n        <h2 className={Styles[\"creatureName\"]}>\n            {template.name}\n        </h2>\n        <img src={template.image} alt={`stylized ${template.name}`} className={Styles[\"creatureImage\"]} />\n        <div className={Styles[\"creatureNumerics\"]}>\n            <span>{template.weapons} weapons</span>\n            <span>{template.armour} armour</span>\n            <span>{template.speed} speed</span>\n        </div>\n        <div className={Styles[\"creatureBooleans\"]}>\n            {template.eatsSeeds && <span>eats seeds</span>}\n            {template.eatsGrass && <span>eats grass</span>}\n            {template.eatsLeaves && <span>eats leaves</span>}\n        </div>\n    </div>\n}\n\nexport default Creature;","export interface IPuzzle {\n    description: JSX.Element;\n\n    organismTemplates: IOrganismTemplate[];\n    steps: number;\n    initialEnergyPerSpecies: number;\n\n    seedsPerRound: number;\n    leavesPerRound: number;\n    grassPerRound: number;\n\n    playerOrganismCount: number;\n    playerOrganismsPassConstraints: (organisms: IOrganismTemplate[]) => boolean;\n    defaultPlayerOrganisms: IOrganismTemplate[];\n}\n\nexport interface IOrganismTemplate {\n    name?: string;\n    image?: any;\n\n    weapons: number;\n    armour: number;\n    speed: number;\n\n    noWeaponsInput?: boolean;\n    noArmourInput?: boolean;\n    noSpeedInput?: boolean;\n\n    eatsSeeds: boolean;\n    eatsGrass: boolean;\n    eatsLeaves: boolean;\n\n    noSeedsInput?: boolean;\n    noGrassInput?: boolean;\n    noLeavesInput?: boolean;\n}\n\nexport interface IResources {\n    seeds: number;\n    leaves: number;\n    grass: number;\n}\n\nexport interface IResult {\n    roundResults: number[][];\n    resultSummary: \"success\" | \"fail\";\n}\n\nexport function simulate(puzzle: IPuzzle, playerOrganisms: IOrganismTemplate[], seed: number): IResult  {\n    var rng = mulberry32(seed);\n\n    // Initial organisms and templates\n    const organismTemplates: IOrganismTemplate[] = []\n    let organisms: number[] = new Array(puzzle.organismTemplates.length + playerOrganisms.length).fill(0);\n    let totalOrganisms = 0;\n    for (const organismTemplate of puzzle.organismTemplates) {\n        const index = organismTemplates.length;\n        const energy = getEnergyCost(organismTemplate);\n        const organismCount = Math.floor(puzzle.initialEnergyPerSpecies / energy)\n        organisms[index] = organismCount;\n        totalOrganisms += organismCount;\n        organismTemplates.push(organismTemplate);\n    }\n    for (const organismTemplate of playerOrganisms) {\n        const index = organismTemplates.length;\n        const energy = getEnergyCost(organismTemplate);\n        const organismCount = Math.floor(puzzle.initialEnergyPerSpecies / energy)\n        organisms[index] = organismCount;\n        totalOrganisms += organismCount;\n        organismTemplates.push(organismTemplate);\n    }\n\n    const resources: IResources = {\n        seeds: 0,\n        leaves: 0,\n        grass: 0,\n    }\n\n    // Simulate\n    const allRoundResults = [];\n    for (let step = 0; step < puzzle.steps; step++) {\n        resources.seeds =+ puzzle.seedsPerRound;\n        resources.leaves =+ puzzle.leavesPerRound;\n        resources.grass =+ puzzle.grassPerRound;\n\n        let newOrganisms: number[] = new Array(organismTemplates.length).fill(0);\n        let newTotal = 0;\n        \n        const samples = Math.floor(totalOrganisms / 2);\n        for (let i = 0; i < samples; i ++) {\n            let aIndex = sample(organisms, totalOrganisms, organismTemplates.length, rng);\n            totalOrganisms--;\n            let bIndex = sample(organisms, totalOrganisms, organismTemplates.length, rng);\n            totalOrganisms--;\n\n            const aOrganismTemplate = organismTemplates[aIndex];\n            const bOrganismTemplate = organismTemplates[bIndex];\n            \n            const children = interact(aIndex, aOrganismTemplate, bIndex, bOrganismTemplate, resources, rng);\n            for (const [key, value] of children) {\n                newOrganisms[key] += value;\n                newTotal += value;\n            }\n        }\n\n        const roundResults = organismTemplates.map(_ => 0);\n        for (let i = 0; i < organismTemplates.length; i ++) {\n            roundResults[i] += newOrganisms[i];\n        }\n        allRoundResults.push(roundResults);\n        if (roundResults.some(r => r === 0)) {\n            break;\n        }\n\n        organisms = newOrganisms;\n        totalOrganisms = newTotal;\n    }\n\n    const lastRoundResult = allRoundResults[allRoundResults.length - 1];\n    \n\n    return { roundResults: allRoundResults, resultSummary: lastRoundResult.some(r => r === 0) ? \"fail\" : \"success\" };\n}\n\nfunction sample(organisms: {[key: number]: number}, totalOrganisms: number, totalCategories: number, rng: () => number): number {\n    let roll = Math.floor(rng() * totalOrganisms);\n    let sum = 0;\n    let key = 0;\n    while (key < totalCategories) {\n        sum += organisms[key];\n        if (sum > roll) {\n            organisms[key]--;\n            return key;\n        }\n        key++;\n    }\n    console.error(\"Sample failure\");\n    return 0;\n}\n\nconst predationEfficiency = 0.95;\nfunction interact(aOrganism: number, aOrganismTemplate: IOrganismTemplate, bOrganism: number, bOrganismTemplate: IOrganismTemplate, resources: IResources, rng: () => number): number[][] {\n    const fightWinnerTemplate = getFightWinner(aOrganism, aOrganismTemplate, bOrganism, bOrganismTemplate);\n    if (fightWinnerTemplate) {\n        const fightLoserTemplate =  fightWinnerTemplate === aOrganismTemplate ? bOrganismTemplate : aOrganismTemplate;\n        const fightWinner = fightWinnerTemplate === aOrganismTemplate ? aOrganism : bOrganism;\n        const predationEnergy = predationEfficiency * getEnergyCost(fightLoserTemplate);\n        return [[fightWinner, reproduce(fightWinnerTemplate, predationEnergy, rng)]];\n    }\n    else {\n        // Forage\n        return [\n            [aOrganism, reproduce(aOrganismTemplate, tryForage(aOrganismTemplate, resources), rng)],\n            [bOrganism, reproduce(bOrganismTemplate, tryForage(bOrganismTemplate, resources), rng)],\n        ];\n    }\n}\n\nfunction getFightWinner(aOrganism: number, aOrganismTemplate: IOrganismTemplate, bOrganism: number, bOrganismTemplate: IOrganismTemplate): IOrganismTemplate | null {\n    if (aOrganism === bOrganism) return null;\n    if (aOrganismTemplate.weapons > bOrganismTemplate.weapons + bOrganismTemplate.armour && aOrganismTemplate.speed > bOrganismTemplate.speed) return aOrganismTemplate;\n    if (bOrganismTemplate.weapons > aOrganismTemplate.weapons + aOrganismTemplate.armour && bOrganismTemplate.speed > aOrganismTemplate.speed) return bOrganismTemplate;\n    return null;\n}\n\nconst reproductionConstant = 5;\nfunction reproduce(template: IOrganismTemplate, bonusEnergy: number, rng: () => number): number {\n    let children = 0\n\n    const templateEnergy = getEnergyCost(template)\n    const energy = templateEnergy * 0.8 + bonusEnergy;\n    const reproductionOpportunities = Math.floor(reproductionConstant * energy);\n\n    for (let opportunity = 0; opportunity < reproductionOpportunities; opportunity++) {\n        if (rng() < 1 / templateEnergy / reproductionConstant) {\n            children++;\n        }\n    }\n\n    return children;\n}\n\nfunction tryForage(template: IOrganismTemplate, resources: IResources): number {\n    if (template.eatsLeaves && resources.leaves > 0) {\n        resources.leaves--;\n        return 7;\n    } \n    else if (template.eatsGrass && resources.grass > 0) {\n        resources.grass--;\n        return 6;\n    } \n    else if (template.eatsSeeds && resources.seeds > 0) {\n        resources.seeds--;\n        return 5;\n    } \n    return 0;\n}\n\nexport function getEnergyCost(template: IOrganismTemplate): number {\n    let cost = 0.1;     // base cost\n    if (template.eatsGrass) cost += 5;\n    if (template.eatsLeaves) cost += 3;\n    if (template.eatsSeeds) cost += 1;\n\n    cost += template.weapons;\n    cost += template.armour * 0.75;\n    cost += template.speed;\n\n    return cost;\n}\n\nfunction mulberry32(a: number) {\n    return function() {\n      var t = a += 0x6D2B79F5;\n      t = Math.imul(t ^ t >>> 15, t | 1);\n      t ^= t + Math.imul(t ^ t >>> 7, t | 61);\n      return ((t ^ t >>> 14) >>> 0) / 4294967296;\n    }\n}","import { FC } from \"react\";\n\nimport Styles from './Creature.module.scss';\nimport { getEnergyCost, IOrganismTemplate } from \"./Simulator\";\n\n\ninterface ICreatureProps {\n    template: IOrganismTemplate;\n    onTemplateChanged: (template: IOrganismTemplate) => void;\n}\n\nconst CreatureInput: FC<ICreatureProps> = ({template, onTemplateChanged}) => {\n\n    function changeValue(key: keyof IOrganismTemplate, value: any) {\n        if (typeof value === \"number\") {\n            value = Math.max(Math.round(value), 0);\n        }\n        const newTemplate = {...template, [key]: value};\n        onTemplateChanged(newTemplate);\n    }\n\n    return <div className={Styles[\"creature\"]}>\n        <h2 className={Styles[\"creatureName\"]}>\n            {template.name ?? \"cool cat\"} (energy requirement: {getEnergyCost(template)})\n        </h2>\n        {template.name && <img src={template.image} alt={`stylized ${template.name}`} className={Styles[\"creatureImage\"]} />}\n        <div className={Styles[\"creatureNumerics\"]}>\n            {template.noWeaponsInput \n                ? <span>{template.weapons} weapons</span>\n                : <label><input type=\"number\" value={template.weapons} onChange={e => changeValue(\"weapons\", e.target.valueAsNumber)} /> weapons</label>\n            }\n            {template.noArmourInput \n                ? <span>{template.armour} armour</span>\n                : <label><input type=\"number\" value={template.armour} onChange={e => changeValue(\"armour\", e.target.valueAsNumber)} /> armour</label>\n            }\n            {template.noSpeedInput \n                ? <span>{template.speed} speed</span>\n                : <label><input type=\"number\" value={template.speed} onChange={e => changeValue(\"speed\", e.target.valueAsNumber)} /> speed</label>\n            }\n        </div>\n        <div className={Styles[\"creatureBooleans\"]}>\n            <label><input type=\"checkbox\" checked={template.eatsSeeds} onChange={e => changeValue(\"eatsSeeds\", e.target.checked)} />eats seeds</label>\n            <label><input type=\"checkbox\" checked={template.eatsGrass} onChange={e => changeValue(\"eatsGrass\", e.target.checked)} />eats grass</label>\n            <label><input type=\"checkbox\" checked={template.eatsLeaves} onChange={e => changeValue(\"eatsLeaves\", e.target.checked)} />eats leaves</label>\n        </div>\n    </div>\n}\n\n\nexport default CreatureInput;","import { FC, useMemo } from \"react\";\nimport { Legend, Line, LineChart, ResponsiveContainer } from \"recharts\";\n\nimport Styles from './PuzzleResults.module.scss';\nimport { IOrganismTemplate, IPuzzle, simulate } from \"./Simulator\";\n\ninterface IPuzzleResultsProps {\n    puzzle: IPuzzle;\n    playerOrganisms: IOrganismTemplate[];\n    seed: number;\n    reseed: () => void;\n    onLevelPassed: () => void\n}\n\nconst colors = [\n    \"#74569B\",\n    \"#96FBC7\",\n    \"#F7FFAE\",\n    \"#FFB3CB\",\n    \"#fffef7\",\n]\n\nconst Creature: FC<IPuzzleResultsProps> = ({puzzle, playerOrganisms, seed, reseed, onLevelPassed}) => {\n\n    const results = useMemo(() => {\n        return simulate(puzzle, playerOrganisms, seed);\n    }, [puzzle, playerOrganisms, seed]);\n\n    if (results.resultSummary === \"success\") {\n        onLevelPassed();\n    }\n    \n    const legendFormatter = (value: string, entry: any, index: number) => {\n        const organism = index < puzzle.organismTemplates.length \n            ? puzzle.organismTemplates[index]\n            : playerOrganisms[index - puzzle.organismTemplates.length];\n            \n        return <span style={{color: entry}}>{organism.name}</span>\n    }\n\n\n\n    const isValid = puzzle.playerOrganismsPassConstraints(playerOrganisms);\n    const passFailClassname = results.resultSummary === \"success\" && isValid ? Styles[\"success\"] : Styles[\"fail\"];\n    \n    return <div className={Styles[\"results\"] + \" \" + passFailClassname} >\n        {!isValid && <h2 className={Styles[\"title\"]}>invalid ecosystem</h2>}\n        {isValid && <>\n            <h2 className={Styles[\"title\"]}>{results.resultSummary}</h2>\n            <div className={Styles[\"graph\"]}>\n                <ResponsiveContainer>\n                <LineChart data={results.roundResults}>\n                    <Legend verticalAlign=\"bottom\" height={36} formatter={legendFormatter} margin={{top: 36}}/>\n                    {\n                        [...results.roundResults[0].keys()].map(i => \n                            <Line \n                                key={i}\n                                type=\"monotone\"\n                                stroke={colors[i % colors.length]}\n                                dataKey={i}\n                                dot={false}\n                                strokeWidth={5}\n                                \n                            />\n                        )\n                    }\n                </LineChart>\n                </ResponsiveContainer>\n            </div>\n            {results.resultSummary === \"fail\" && <button onClick={reseed}>try another reality</button>}\n        </>}\n    </div>\n}\n\nexport default Creature;","import React, { FC, useCallback, useEffect, useState } from 'react';\n\nimport Styles from './App.module.scss';\n\nimport { Puzzles } from './Puzzles';\nimport Creature from './Creature';\nimport CreatureInput from './CreatureInput';\nimport { IOrganismTemplate } from './Simulator';\nimport PuzzleResults from './PuzzleResults';\n\nconst App: FC<{}> = (props) => {\n  const [passedLevels, setPassedLevels] = useState<number[]>([]);\n\n  useEffect(() => {\n    setPassedLevels(JSON.parse(localStorage.getItem(\"passed\") ?? \"[]\"));\n  }, [setPassedLevels])\n\n  const setLevelPassed = (index: number) => {\n    if (!passedLevels.includes(index)) {\n      const newPassedLevels = [...passedLevels, index];\n      localStorage.setItem(\"passed\", JSON.stringify(newPassedLevels))\n      setPassedLevels(newPassedLevels);\n    }\n  }\n\n  const [selectedPuzzleIndex, setSelectedPuzzleIndex] = useState<number | null>(null);\n  const [currentOrganisms, setCurrentOrganisms] = useState<IOrganismTemplate[]>([]);\n  const [currentSeed, setCurrentSeed] = useState(1);\n\n  const onPuzzleSelected = useCallback((index: number) => {\n    const lastOrganisms = JSON.parse(localStorage.getItem(\"puzzle\" + index.toString()) ?? \"[]\");\n    if (lastOrganisms.length > 0) {\n      setCurrentOrganisms(lastOrganisms);\n    }\n    else {\n      setCurrentOrganisms([...Puzzles[index].defaultPlayerOrganisms]);\n    }\n\n    setCurrentSeed(Number.parseInt(localStorage.getItem(\"seed\" + index.toString()) ?? \"1\"));\n\n    setSelectedPuzzleIndex(index);\n  }, [setSelectedPuzzleIndex, setCurrentOrganisms, setCurrentSeed])\n\n  const onTemplateChanged = useCallback((organismTemplate: IOrganismTemplate, index: number) => {\n    setCurrentOrganisms(organisms => {\n      const newOrganisms = [...organisms];\n      newOrganisms.splice(index, 1, organismTemplate);\n      if (Puzzles[selectedPuzzleIndex!].playerOrganismsPassConstraints(newOrganisms)) {\n        localStorage.setItem(\"puzzle\" + selectedPuzzleIndex!.toString(), JSON.stringify(newOrganisms));\n        return newOrganisms;\n      }\n      else {\n        return organisms;\n      }\n    })\n  }, [setCurrentOrganisms, selectedPuzzleIndex]);\n\n  const reseed = useCallback(() => {\n    setCurrentSeed(s => {\n      localStorage.setItem(\"seed\" + selectedPuzzleIndex!.toString(), (s + 1).toString());\n      return s + 1;\n    });\n  }, [setCurrentSeed, selectedPuzzleIndex]);\n\n  const selectedPuzzle = selectedPuzzleIndex === null\n    ? null\n    : Puzzles[selectedPuzzleIndex];\n\n  return <>\n    <div className={Styles[\"app\"]}>\n      <div className={Styles[\"header\"]}>\n        <h1>Nekolibrium<span style={{fontSize: \"0.375em\", paddingLeft: \"1em\"}}>猫リブリウム</span></h1>\n        <h3>bring the worlds to equilibrium</h3>\n      </div>\n      <div className={Styles[\"puzzleListContainer\"]}>\n        <div className={Styles[\"puzzleList\"]}>\n          {Puzzles.map((p, i) => \n            <button \n              key={i} \n              onClick={() => onPuzzleSelected(i)}\n              className={(selectedPuzzleIndex === i ? \"selected\" : undefined) + \" \" + (passedLevels.includes(i) ? \"passed\" : \"\")}\n            >\n              world {i + 1}\n            </button>  \n          )}\n        </div>\n      </div>\n    </div>\n\n    {selectedPuzzle && \n      <div className={Styles[\"puzzle\"]}>\n        <h1>World {selectedPuzzleIndex! + 1}</h1>\n        <div className={Styles[\"puzzleContainer\"]}>\n          <div className={Styles[\"puzzleText\"]}>\n            {selectedPuzzle.description}\n            \n            {selectedPuzzle.organismTemplates.map((ot, i) => \n              <Creature key={i} template={ot} />\n            )}\n          </div>\n          <div className={Styles[\"puzzleContent\"]}>\n            \n            <PuzzleResults \n                puzzle={selectedPuzzle} \n                playerOrganisms={currentOrganisms}\n                seed={Math.PI / 10 * currentSeed}\n                reseed={reseed}\n                onLevelPassed={() => setLevelPassed(selectedPuzzleIndex!)}\n            />\n            {currentOrganisms.map((ot, i) => \n              <CreatureInput key={i} template={ot} onTemplateChanged={newot => onTemplateChanged(newot, i)} />\n            )}\n          </div>\n        </div>\n      </div>\n    }\n  </>\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App/App';\nimport reportWebVitals from './reportWebVitals';\n\nimport './Root.scss';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app___B2LQ\",\"header\":\"App_header__1Xt5M\",\"puzzleListContainer\":\"App_puzzleListContainer__hAfRp\",\"puzzleList\":\"App_puzzleList__2xRXO\",\"puzzle\":\"App_puzzle__wGCc9\",\"puzzleContainer\":\"App_puzzleContainer__1dvT8\",\"puzzleText\":\"App_puzzleText__3Pqva\",\"puzzleContent\":\"App_puzzleContent__22sUj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"results\":\"PuzzleResults_results__3u1Vz\",\"success\":\"PuzzleResults_success__31SYi\",\"fail\":\"PuzzleResults_fail__2C6sJ\",\"title\":\"PuzzleResults_title__11qt5\",\"graph\":\"PuzzleResults_graph__nbIaT\"};"],"sourceRoot":""}